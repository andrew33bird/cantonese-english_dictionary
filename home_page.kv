<home_page>:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: root.color_background
        Rectangle:
            pos: self.pos
            size: self.size
    
    BoxLayout:
        size_hint_y: None
        height: root.widget_height
        orientation: 'horizontal'
        Button:
            id: settings_btn
            size_hint_x: None
            width: root.widget_height
            background_normal: root.settings_btn_normal
            background_down: root.settings_btn_down
            border: (0, 0, 0, 0)
        TextInput:
            id: search_input
            multiline: False
            background_color: root.textbox_color_bckgnd
            foreground_color: root.textbox_color_text
            font_size: root.font_normal
        Button:
            id: search_btn
            size_hint_x: None
            width: root.widget_height
            on_release: root.entry_search(search_input)
            background_normal: root.search_btn_normal
            background_down: root.search_btn_down
            border: (0, 0, 0, 0)
    TabbedPanel:
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        tab_pos: 'bottom_mid'
        do_default_tab: False
        tab_height: root.widget_height
        tab_width: root.tab_width
        
        TabbedPanelItem:
            id: search_tab
            text: 'Search'
            background_normal: ''
            background_down: ''
            background_color: root.color_tab_normal if self.state=='normal' else root.color_tab_down
            color: root.color_tab_text_normal if self.state=='normal' else root.color_tab_text_down
            font_size: root.font_header_normal
            
            BoxLayout:
                orientation: 'vertical'
                #canvas.before:
                #    Color:
                #        rgba: 1,0,0,1
                #    Rectangle:
                #        pos: self.pos
                #        size: self.size
                AdvFilterDisplay:
                Label:
                    id: search_tab_label
                    text: 'Enter search'
                
        TabbedPanelItem:
            id: browse_tab
            text: 'Browse'
            background_normal: ''
            background_down: ''
            background_color: root.color_tab_normal if self.state=='normal' else root.color_tab_down
            color: root.color_tab_text_normal if self.state=='normal' else root.color_tab_text_down
            font_size: root.font_header_normal
            
<AdvFilterDisplay>
    orientation: 'vertical'
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: root.small_widget_height
        canvas.before:
            Color:
                rgba: root.color_background
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            # empty space
        Button:
            id:adv_filt_btn
            text: 'Advanced Filters'
            on_release: root.adv_expand(adv_box)
            background_normal: root.adv_filter_expand if adv_box.height==0 else root.adv_filter_colapse
            background_down: root.adv_filter_expand if adv_box.height==0 else root.adv_filter_colapse
            border: (0, 0, 0, 0)
            color: root.color_text
            size_hint_x: None
            width: root.adv_filt_width
    BoxLayout:
        id: adv_box
        orientation: 'horizontal'
        size_hint_y: None
        height: 0
        opacity: 0
        Label:
            text: 'Test 1'
        Label:
            text: 'Test 2'
        Button:
            text: 'test button'
            on_release: root.test_function()